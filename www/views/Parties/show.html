<div layout="row">
  <div flex>
    <img src="img/cocktails.gif" class="img-responsive">
  </div>
</div>

<div layout="row">
  <md-toolbar>
      <div class="md-toolbar-tools">
        <md-button class="md-icon-button" ng-href="#/Users/menu">
          <md-icon><i class="material-icons">menu</i></md-icon>
        </md-button>
        <h2>
          <span>{{PartiesCtrl.party.name}}</span>
        </h2>
        <span flex></span>
      </div>
    </md-toolbar>  

</div>

<!--
<div layout="row">
  <md-toolbar class="md-whiteframe-6dp">
      <div class="md-toolbar-tools">
        <h2>
          <span>
            <small class="toolbar-rating-label">
              {{party.rating.toFixed(1)}} &nbsp
              <ng-repeat ng-repeat="n in range(1,party.rating)">
                <md-icon><i class="material-icons">star</i></md-icon>
              </ng-repeat>
            </small>
          </span>
        </h2>
        <span flex></span>
      </div>
    </md-toolbar>  
</div>
-->

<div layout="row">
  <div flex>
    <md-card class="card-party-description">
      <md-card-content>
        <p class="description">{{PartiesCtrl.party.details}}</p>

        <div layout="row">
          <div flex="10" class="ic">
            <img ng-src="{{PartiesCtrl.party.hoster.photoUrl}}" class="img-responsive img-circle">
          </div>
          <div flex class="ic-label">
            <p>
              <span class="hoster-label">Hoster: </span>
              <span class="hoster">{{PartiesCtrl.party.hoster.displayName}}</span>
              <!--<span class="hoster-label"><small>(5.0 <md-icon><i class="material-icons">star_border</i></md-icon>)</small></span></p>-->
          </div>
        </div>
        
      </md-card-content>
    </md-card>
  </div>  
</div>

<div layout="row">
  <div flex>
    <md-card class="card-party-address">
      <img ng-src="{{getStaticMapUrl(PartiesCtrl.party.location.lat,PartiesCtrl.party.location.lng,{})}}" class="img-responsive" ng-show="(PartiesCtrl.party.type == 'public') || ( (PartiesCtrl.party.type == 'private') && (invitationStatus == 200) )">
      <md-card-content>
        <div layout="row" ng-show="PartiesCtrl.party.type == 'public'">
          <div flex="10" class="ic">
            <md-icon><i class="material-icons">location_on</i></md-icon>
          </div>
          <div flex class="ic-label">
            <p><span>{{PartiesCtrl.party.location.address}}</span></p>
          </div>
        </div>
        
        <div layout="row" ng-show="invitationStatus !== 200">
          <div flex="10" class="ic">
            <md-icon><i class="material-icons">location_off</i></md-icon>
          </div>
          <div flex class="ic-label">
            <p><span>You need an invitation to see this address</span></p>
          </div>
        </div>
        
        <div layout="row" ng-show="invitationStatus == 200">
          <div flex="10" class="ic">
            <md-icon><i class="material-icons">location_on</i></md-icon>
          </div>
          <div flex class="ic-label">
            <p><span>{{PartiesCtrl.party.location.address}}</span></p>
          </div>
        </div>
        
        <div layout="row">
          <div flex="10" class="ic">
            <md-icon><i class="material-icons">today</i></md-icon>
          </div>
          <div flex class="ic-label">
            <p><span>{{PartiesCtrl.party.startsAt.date + ' ' + PartiesCtrl.party.startsAt.time}}</span></p>
          </div>
        </div>
        
        <div layout="row">
          <div flex="10" class="ic">
            <md-icon><i class="material-icons">event</i></md-icon>
          </div>
          <div flex class="ic-label">
            <p><span>{{PartiesCtrl.party.endsAt.date + ' ' + PartiesCtrl.party.endsAt.time}}</span></p>
          </div>
        </div>
        
      </md-card-content>
      <md-card-actions layout="row" layout-align="end center"  ng-show="PartiesCtrl.party.type == 'private'">
        <md-button class="btn-invite" ng-click="PartiesCtrl.inviteMe()" ng-show="invitationStatus == 404">
          <md-icon><i class="material-icons">loyalty</i></md-icon>
          Invite Me!
        </md-button>
        
        <md-button class="btn-invite" ng-disabled="true" ng-show="invitationStatus == 403">
          <md-icon><i class="material-icons">hourglass_empty</i></md-icon>
          pending authorization...
        </md-button>
        
        <md-button class="btn-invite" ng-disabled="true" ng-show="invitationStatus == 200">
          <md-icon><i class="material-icons">done</i></md-icon>
          You're invited!
        </md-button>
      </md-card-actions>
    </md-card>
    
    <!--
    <md-card class="card-party-reviews">
      <md-card-content>
        <div ng-repeat="review in party.reviews">
        <div layout="row">
          <div flex="10" class="ic">
            <img src="img/avatar.png" class="img-responsive img-circle">
          </div>
          <div flex class="ic-label">
            <p><span>{{review.userName}}<small class="ic-label-rating"> (5.0 <md-icon><i class="material-icons">star_border</i></md-icon>)</small></span></p>
          </div>
        </div>
        <div layout="row">
          <div flex>
            <ng-repeat ng-repeat="n in range(1,review.rating)">
              <md-icon><i class="material-icons">star</i></md-icon>
            </ng-repeat>
            {{review.comment}}
          </div>
        </div>
        <md-divider></md-divider>
        </div>
      </md-card-content>
      <md-card-actions layout="row" layout-align="end center">
        <md-button>View All</md-button>
      </md-card-actions>
    </md-card>
    -->
    
  </div>
</div>